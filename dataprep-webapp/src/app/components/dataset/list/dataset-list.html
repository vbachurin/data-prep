<!--
  ~ ============================================================================
  ~
  ~  Copyright (C) 2006-2016 Talend Inc. - www.talend.com
  ~
  ~  This source code is available under agreement available at
  ~  https://github.com/Talend/data-prep/blob/master/LICENSE
  ~
  ~  You should have received a copy of the agreement
  ~  along with this program; if not, write to Talend SA
  ~  9 rue Pages 92150 Suresnes, France
  ~
  ~ ============================================================================
  -->

<div id="dataset-inventory-list"
     class="inventory-list"
     ng-if="$ctrl.state.inventory.datasets.length && !$ctrl.state.inventory.isFetchingDatasets">
    <inventory-item
            id="dataset_{{$index}}"
            ng-repeat="dataset in $ctrl.state.inventory.datasets track by dataset.id"
            item="dataset.model"
            type="dataset"
            details="DATASET_DETAILS"
            file-model="$ctrl.updateDatasetFile"
            related-inventories="dataset.model.preparations"
            related-inventories-type="preparation"
            open="$ctrl.UploadWorkflowService.openDataset"
            open-enabled="true"
            open-related-inventory="$ctrl.PreparationService.open"
            update="$ctrl.uploadUpdatedDatasetFile"
            copy="$ctrl.clone"
            process-certification="$ctrl.processCertification"
            remove="$ctrl.remove"
            rename="$ctrl.rename"
            rename-enabled="$ctrl.DatasetService.isRenameEnabled(dataset)"
            toggle-favorite="$ctrl.DatasetService.toggleFavorite"
            process-certification-enabled="$ctrl.DatasetService.isProcessCertificationEnabled()"
            remove-enabled="$ctrl.DatasetService.isRemoveEnabled(dataset)"
            toggle-favorite-enabled="true">
    </inventory-item>
</div>

<div ng-if="!$ctrl.state.inventory.datasets.length &&
            !$ctrl.state.inventory.isFetchingDatasets"
     class="inventory-feedback-datasets-list">
    <div class="inventory-info-content" translate-once="CLICK_ADD_DATASETS"></div>
</div>

<div ng-if="$ctrl.state.inventory.isFetchingDatasets"
     class="inventory-feedback-datasets-list">
    <div class="inventory-info-content">
        <div class="continuous-rotate"><i data-icon="c" class="icon"></i></div>
        <div class="continuous-rotate-text" translate-once="LOADING"></div>
    </div>
</div>
